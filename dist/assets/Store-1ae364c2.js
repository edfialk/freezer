import{u as y,i as b,b as k,d as m,j as w,k as C,w as S,o as i,c as d,a as o,f as c,t as a,F as p,r as f,l as B,n as N}from"./index-e407266f.js";import"./lodash-0df3b841.js";const R={class:"text-primary p-5"},I={class:"text-bold text-2xl"},F={key:0,class:"my-5 text-primary text-xl grid gap-5"},V={class:"text-3xl mb-5 text-center"},$={class:"grid gap-3"},j=["onClick"],z={class:"store-list-item down"},O={__name:"Store",setup(D){const u=y(),l=b(),r=k(),_=m(()=>r.getters.store(Number(l.params.id))),n=w({items:[]}),g=m(()=>n.items.filter(e=>e.count<e.max).sort((e,s)=>e.name.localeCompare(s.name))),x=m(()=>n.items.filter(e=>e.count>=e.max).sort((e,s)=>e.name.localeCompare(s.name))),h=e=>{const s=n.items.find(t=>t.id==e);s.added=!s.added,n.items=[...n.items.filter(t=>t.id!==e),s]},v=()=>{const e=g.value.filter(s=>s.added);r.dispatch("checkout",e),u.push("/kitty")};return C(()=>{if(r.state.ready){const e=r.getters.itemsByStore(Number(l.params.id));n.items=e}}),S(()=>r.getters.isReady,()=>{const e=r.getters.itemsByStore(Number(l.params.id));n.items=e}),(e,s)=>(i(),d("div",R,[o("div",I,[o("i",{class:"fa-solid fa-arrow-left",onClick:s[0]||(s[0]=t=>c(u).go(-1))})]),c(r).getters.isReady?(i(),d("div",F,[o("h1",V,a(c(_).name),1),o("div",$,[(i(!0),d(p,null,f(c(g),t=>(i(),d("div",{class:N(["store-list-item",t.added?"down":"up"]),onClick:E=>h(t.id)},[o("div",null,a(t.name),1),o("div",null,a(t.count)+" / "+a(t.max),1)],10,j))),256)),(i(!0),d(p,null,f(c(x),t=>(i(),d("div",z,[o("div",null,a(t.name),1),o("div",null,a(t.count)+" / "+a(t.max),1)]))),256))]),o("div",null,[o("button",{type:"button",class:"w-full text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-800 shadow-lg shadow-green-800/80 font-medium rounded-lg px-5 py-3 text-center mr-2 mb-2",onClick:v},"Check Out")])])):B("",!0)]))}};export{O as default};
