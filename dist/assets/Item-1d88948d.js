import{u as g,h as v,e as y,i as C,j as k,w,o as i,a,b as t,d as m,t as l,F as M,r as N,k as j}from"./index-7e364e3a.js";import{l as x}from"./lodash-cb444b09.js";const R={class:"text-primary p-5"},B={class:"text-bold text-2xl"},F={key:0,class:"my-5 text-primary text-center text-xl grid gap-5"},I={class:"text-3xl mb-5"},E={class:"flex justify-between"},S=t("div",null,"Quantity",-1),V=t("i",{class:"fa-solid fa-minus"},null,-1),D=[V],L=t("i",{class:"fa-solid fa-plus"},null,-1),Q=[L],$={class:"flex justify-between"},q=t("div",null,"Max",-1),z=t("i",{class:"fa-solid fa-minus"},null,-1),A=[z],G=t("i",{class:"fa-solid fa-plus"},null,-1),H=[G],J={class:"flex justify-between"},K=t("div",null,"From",-1),O={class:"text-right"},W={__name:"Item",setup(P){const _=g(),o=v(),n=y(),e=C({count:0,max:0,name:null,stores:[]});k(()=>{if(n.state.ready){const s=n.getters.item(Number(o.params.id));e.count=s.count,e.max=s.max,e.name=s.name,e.stores=s.stores}}),w(()=>n.getters.isReady,()=>{const s=n.getters.item(Number(o.params.id));e.count=s.count,e.max=s.max,e.name=s.name,e.stores=s.stores});const u=x.debounce(()=>{n.dispatch("setItemCount",{id:Number(o.params.id),count:e.count})},300),f=()=>{e.count++,u()},b=()=>{e.count>0&&(e.count--,u())},c=x.debounce(()=>{n.dispatch("setItemMax",{id:Number(o.params.id),max:e.max})},300),p=()=>{e.max++,c()},h=()=>{e.max>0&&(e.max--,c())};return(s,r)=>(i(),a("div",R,[t("div",B,[t("i",{class:"fa-solid fa-arrow-left",onClick:r[0]||(r[0]=d=>m(_).go(-1))})]),m(n).getters.isReady?(i(),a("div",F,[t("h1",I,l(e.name),1),t("div",E,[S,t("div",null,[t("button",{type:"button",class:"focus:outline-none font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mx-4 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:b},D),t("span",null,l(e.count),1),t("button",{type:"button",class:"focus:outline-none font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mx-4 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:f},Q)])]),t("div",$,[q,t("div",null,[t("button",{type:"button",class:"focus:outline-none font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mx-4 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:h},A),t("span",null,l(e.max),1),t("button",{type:"button",class:"focus:outline-none font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mx-4 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:p},H)])]),t("div",J,[K,t("div",O,[(i(!0),a(M,null,N(e.stores,d=>(i(),a("p",null,l(d.name),1))),256))])])])):j("",!0)]))}};export{W as default};
